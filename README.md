# Проектная работа "Веб-ларек"
Стек: HTML, SCSS, TS, Vite

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/main.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка
```
npm run build
```

или

```
yarn build
```
# Интернет-магазин «Web-Larёk»
«Web-Larёk» — это интернет-магазин с товарами для веб-разработчиков, где пользователи могут просматривать товары, добавлять их в корзину и оформлять заказы. Сайт предоставляет удобный интерфейс с модальными окнами для просмотра деталей товаров, управления корзиной и выбора способа оплаты, обеспечивая полный цикл покупки с отправкой заказов на сервер.

## Архитектура приложения
Код приложения разделен на слои согласно парадигме MVP (Model-View-Presenter), которая обеспечивает четкое разделение ответственности между классами слоев Model и View. Каждый слой несет свой смысл и ответственность:

Model - слой данных, отвечает за хранение и изменение данных.  
View - слой представления, отвечает за отображение данных на странице.  
Presenter - презентер содержит основную логику приложения и  отвечает за связь представления и данных.

Взаимодействие между классами обеспечивается использованием событийно-ориентированного подхода. Модели и Представления генерируют события при изменении данных или взаимодействии пользователя с приложением, а Презентер обрабатывает эти события используя методы как Моделей, так и Представлений.

### Базовый код

#### Класс Component
Является базовым классом для всех компонентов интерфейса.
Класс является дженериком и принимает в переменной `T` тип данных, которые могут быть переданы в метод `render` для отображения.

Конструктор:  
`constructor(container: HTMLElement)` - принимает ссылку на DOM элемент за отображение, которого он отвечает.

Поля класса:  
`container: HTMLElement` - поле для хранения корневого DOM элемента компонента.

Методы класса:  
`render(data?: Partial<T>): HTMLElement` - главный метод класса. Он принимает данные, которые необходимо отобразить в интерфейсе, записывает эти данные в поля класса и возвращает ссылку на DOM-элемент. Предполагается, что в классах, которые будут наследоваться от `Component` будут реализованы сеттеры для полей с данными, которые будут вызываться в момент вызова `render` и записывать данные в необходимые DOM элементы.  
`setImage(element: HTMLImageElement, src: string, alt?: string): void` - утилитарный метод для модификации DOM-элементов `<img>`.


#### Класс Api
Содержит в себе базовую логику отправки запросов.

Конструктор:  
`constructor(baseUrl: string, options: RequestInit = {})` - в конструктор передается базовый адрес сервера и опциональный объект с заголовками запросов.

Поля класса:  
`baseUrl: string` - базовый адрес сервера.
`options: RequestInit` - объект с заголовками, которые будут использованы для запросов.

Методы:  
`get(uri: string): Promise<object>` - выполняет GET запрос на переданный в параметрах ендпоинт и возвращает промис с объектом, которым ответил сервер.
`post(uri: string, data: object, method: ApiPostMethods = 'POST'): Promise<object>` - принимает объект с данными, которые будут переданы в JSON в теле запроса, и отправляет эти данные на ендпоинт переданный как параметр при вызове метода. По умолчанию выполняется `POST` запрос, но метод запроса может быть переопределен заданием третьего параметра при вызове.  
`handleResponse(response: Response): Promise<object>` - защищенный метод проверяющий ответ сервера на корректность и возвращающий объект с данными полученный от сервера или отклоненный промис, в случае некорректных данных.

#### Класс EventEmitter
Брокер событий реализует паттерн "Наблюдатель", позволяющий отправлять события и подписываться на события, происходящие в системе. Класс используется для связи слоя данных и представления.

Конструктор класса не принимает параметров.

Поля класса:  
`_events: Map<string | RegExp, Set<Function>>)` -  хранит коллекцию подписок на события. Ключи коллекции - названия событий или регулярное выражение, значения - коллекция функций обработчиков, которые будут вызваны при срабатывании события.

Методы класса:  
`on<T extends object>(event: EventName, callback: (data: T) => void): void` - подписка на событие, принимает название события и функцию обработчик.  
`emit<T extends object>(event: string, data?: T): void` - инициализация события. При вызове события в метод передается название события и объект с данными, который будет использован как аргумент для вызова обработчика.  
`trigger<T extends object>(event: string, context?: Partial<T>): (data: T) => void` - возвращает функцию, при вызове которой инициализируется требуемое в параметрах событие с передачей в него данных из второго параметра.

### Данные
В приложении используются две основные сущности для описания данных: товар и покупатель.

#### Интерфейс IProduct
Интерфейс IProduct определяет структуру данных товара в приложении и используется для представления информации о товаре. Он представляет собой единичный товар, доступный для покупки и включает в себя все необходимые поля, позволяющие идентифицировать товар, а также предоставлять пользователю информацию о его характеристиках, изображении и цене.

Поля интерфейса:  
`id: string` - уникальный идентификатор товара.
`title: string` - название товара. Отображается в карточках товаров и в корзине.
`description: string` - подробное описание товара. Содержит подробную информацию о продукте.
`image: string` - путь к изображению товара. Используется для визуального представления товара в каталоге и карточках.
`category: string` - категория, к которой относится товар.
`price: number | null` - число, представляющее цену товара. Может быть null, чтобы указать на отсутствие или недоступность цены.

#### Интерфейс IBuyer
Интерфейс IBuyer определяет структуру данных покупателя в приложении и описывает данные о покупателе, необходимые для оформления заказа. Он представляет собой клиента, совершающего покупку и включает информацию о способе оплаты, контактные данные и адрес доставки, что позволяет эффективно обрабатывать заказы и обеспечивать связь с покупателем.

Поля интерфейса:  
`payment: TPayment` - выбранный способ оплаты. Определяется с использованием типа TPayment, который ограничивает возможные значения предопределенным набором вариантов оплаты.
`address: string` - адрес доставки. Указывается покупателем при оформлении заказа для доставки товара.
`email: string` - электронная почта покупателя. Используется для отправки подтверждений заказа и связи с клиентом.
`phone: string` - телефонный номер покупателя. Необходим для связи по вопросам заказа и доставки.

Тип TPayment `type TPayment = 'card' | 'cash' | ''`: дополнительно вводится тип TPayment с использованием объединения типов, чтобы определить разрешенные способы оплаты. Это гарантирует, что свойство payment может принимать только одно из указанных значений.

### Модели данных

#### Класс ProductCatalog
Хранит список всех доступных товаров и выбранный для подробного отображения товар. Предоставляет базовые операции по сохранению/получению списка товаров и управлению выбранным товаром.

Конструктор:  
`constructor()` - инициализирует пустой массив для хранения товаров и переменную для хранения выбранного товара. Не принимает никаких аргументов.

Поля класса:  
`protected products: IProduct[]` - массив всех товаров каталога.
`protected selectedProduct: IProduct | null` - товар, выбранный для подробного отображения.

Методы:  
`saveProducts(products: IProduct[]): void` - сохраняет массива товаров, полученный в параметрах метода, в модель каталога.
`getProducts(): IProduct[]` - возвращает массив всех товаров из модели.
`getProductByID(id: string): IProduct | undefined` - находит и возвращает один товар по его id.
`saveProduct(product: IProduct | null): void` - сохраняет товар для подробного отображения.
`getProduct(): IProduct | null` - возвращает товар, сохраненный для подробного отображения.

#### Класс ShoppingCart
Хранит массив товаров, выбранных покупателем для покупки. Предоставляет все необходимые операции для управления корзиной - чтение содержимого, добавление и удаление товаров, очистка, получение общей суммы и количества, проверка наличия товара.

Конструктор:  
`constructor()` - инициализирует пустой массив для хранения товаров, выбранных покупателем для покупки. Не принимает никаких аргументов.

Поля класса:  
`protected selectedProducts: IProduct[]` - массив всех товаров, выбранных покупателем для покупки, которые находятся в корзине.

Методы:  
`getSelectedProducts(): IProduct[]` - возвращает массив всех товаров, которые находятся в корзине.
`addSelectedProduct(product: IProduct): void` - добавляет товар, который был получен в параметре, в массив корзины.
`deleteSelectedProduct(id: string): void` - удаляет товар с указанным id из массива корзины с помощью фильтрации.
`clearShoppingCart(): void` - очищает корзину, устанавливая пустой массив.
`getTotal(): number` - вычисляет и возвращает общую стоимость всех товаров в корзине путем суммирования их цен. Возвращает 0 для пустой корзины (или для корзины с бесценными товарами).
`getSelectedProductsAmount(): number` - возвращает количество товаров в корзине через свойство length массива.
`checkSelectedProduct(id: string): boolean` - проверяет наличие товара с указанным id в корзине, возвращает true если товар найден, и false - если нет.

#### Класс Buyer
Хранит данные покупателя и предоставляет базовые операции для их сохранения, получения, очистки и валидации с возвращением подробной информации об ошибках для каждого поля.

Конструктор:  
`constructor()` - инициализирует объект данных покупателя с пустыми значениями для всех полей.

Поля класса:  
`savePaymentType(payment: TPayment): void` - объект, хранящий все данные покупателя: вид оплаты, адрес, email и телефон.

Методы:  
`saveProducts(products: IProduct[]): void` - сохраняет вид оплаты в данные покупателя, не затрагивая другие поля.
`saveAddress(address: string): void` - сохраняет адрес в данные покупателя, не затрагивая другие поля.
`saveEmail(email: string): void` - сохраняет email в данные покупателя, не затрагивая другие поля.
`savePhone(phone: string): void` - сохраняет телефон в данные покупателя, не затрагивая другие поля.
`getData(): IBuyer` - возвращает полный объект со всеми данными покупателя.
`clearBuyerData(): void` - очищает все данные покупателя, сбрасывая все поля к пустым значениям.
`validate(): {payment: string, address: string, email: string, phone: string}` - проверяет валидность всех полей покупателя. Для каждого поля возвращает пустую строку если поле валидно, или текст ошибки если поле невалидно. Поле считается валидным если оно не пустое после удаления пробелов в начале и конце.

### Слой коммуникации

#### Класс ServerApi
Является представителем коммуникационного слоя — отвечает за получение данных с сервера и отправку данных на сервер. Использует композицию, чтобы выполнить запрос на сервер с помощью метода get класса Api и получает с сервера объект с массивом товаров.

Конструктор:  
`constructor(api: IApi)` - принимает объект, соответствующий интерфейсу IApi.

Поля класса:  
`protected api: IApi` - объект, предоставляющий методы для выполнения запросов на сервер.

Методы:  
`getProducts(): Promise<IResult>` - выполняет get запрос на эндпоинт /product/ и возвращает промис с объектом, содержащим массив товаров и общую стоимость.
`postOrder(orderRequest: IOrderRequest): Promise<IOrderResponse>` - выполняет post запрос на эндпоинт /order/, передает данные заказа и возвращает промис с результатом оформления заказа.

### Слой представления

#### Класс Header
Является представителем слоя Представления — отвечает за отображение шапки сайта и взаимодействие с пользователем. Использует наследование от базового класса Component для управления DOM-элементами.

Конструктор:  
`constructor(container: HTMLElement, protected events: IEvents)` - принимает контейнер DOM-элемента и объект для управления событиями.

Поля класса:  
`protected basketButton: HTMLButtonElement` - кнопка открытия корзины.
`protected counterElement: HTMLElement` - элемент отображения счетчика товаров.

Структура DOM-элементов:
Контейнер: `.header` (передается извне).
Кнопка корзины: `.header__basket`.
Счётчик товаров: `.header__basket-counter`.

Генерируемые события:
`shopping-cart:open` - открытие корзины при клике на кнопку корзины.

Методы:  
`set counter(value: number)` - сеттер для обновления счетчика товаров в корзине, отображает переданное значение в интерфейсе.

#### Класс Basket
Является представителем слоя Представления — отвечает за отображение и управление корзиной товаров. Использует наследование от базового класса Component для управления DOM-элементами.

Конструктор:  
`constructor(container: HTMLElement, protected events: IEvents)` - принимает контейнер DOM-элемента и объект для управления событиями.

Поля класса:  
`protected basketListElement: HTMLElement` - элемент списка товаров в корзине.
`protected placeButton: HTMLButtonElement` - кнопка оформления заказа.
`protected priceElement: HTMLElement` - элемент отображения общей стоимости.

Структура DOM-элементов:
Контейнер: `#basket` (передается извне).
Список товаров: `.basket__list`.
Кнопка оформления: `.basket__button`.
Элемент цены: `.basket__price`.

Генерируемые события:
`order:open` - открытие формы заказа при клике на кнопку оформления.

Методы:  
`set items(value: HTMLElement[])` - сеттер для обновления списка товаров в корзине, отображает переданные элементы или сообщение о пустой корзине.
`set price(value: number)` - сеттер для обновления общей стоимости заказа, отображает значение в формате "X синапсов".
`setPurchaseOpportunity(isEmpty: boolean)` - управляет состоянием кнопки оформления заказа, отключает и скрывает кнопку при пустой корзине.

#### Класс Gallery
Является представителем слоя Представления — отвечает за отображение галереи товаров в каталоге. Использует наследование от базового класса Component для управления DOM-элементами.

Конструктор:  
`constructor(container: HTMLElement)` - принимает контейнер DOM-элемента для отображения галереи.

Структура DOM-элементов:
Контейнер: `.gallery` (передается извне).

Генерируемые события:
Не генерирует события, так как является контейнером для карточек товаров.

Методы:  
`set catalog(items: HTMLElement[])` - сеттер для обновления содержимого галереи, очищает контейнер и добавляет переданные элементы карточек товаров.

#### Класс Modal
Является представителем слоя Представления — отвечает за отображение и управление модальными окнами. Использует наследование от базового класса Component для управления DOM-элементами.

Конструктор:  
`constructor(container: HTMLElement, protected events: IEvents)` - принимает контейнер DOM-элемента и объект для управления событиями.

Поля класса:  
`protected closeButton: HTMLButtonElement` - кнопка закрытия модального окна.
`protected contentElement: HTMLElement` - элемент для отображения содержимого модального окна.

Структура DOM-элементов:
Контейнер: `#modal-container` (передается извне).
Кнопка закрытия: `.modal__close`.
Контейнер содержимого: `.modal__content`.

Генерируемые события:
`modal:open` - открытие модального окна.
`modal:close` - закрытие модального окна.

Методы:  
`set content(value: HTMLElement)` - сеттер для установки содержимого модального окна, очищает контейнер и добавляет переданный элемент.
`open(): void` - открывает модальное окно, добавляя класс modal_active и генерируя событие открытия.
`close(): void` - закрывает модальное окно, удаляя класс modal_active, очищая содержимое и генерируя событие закрытия.

#### Класс Success
Является представителем слоя Представления — отвечает за отображение сообщения об успешном оформлении заказа. Использует наследование от базового класса Component для управления DOM-элементами.

Конструктор:  
`constructor(container: HTMLElement, actions: ISuccessActions)` - принимает контейнер DOM-элемента и объект с обработчиками действий.

Поля класса:  
`protected orderButton: HTMLButtonElement` - кнопка закрытия сообщения об успешном заказе.
`protected totalElement: HTMLElement` - элемент отображения суммы списания.

Структура DOM-элементов:
Контейнер: `#success` (передается извне).
Кнопка закрытия: `.order-success__close`.
Контейнер содержимого: `.order-success__description`.

Генерируемые события:
Не генерирует события напрямую, выполняет переданный колбэк при клике.

Методы:  
`set total(value: number)` - сеттер для обновления отображаемой суммы списания, показывает значение в формате "Списано X синапсов".

#### Класс Card
Является абстрактным представителем слоя Представления — служит базовым классом для всех типов карточек товаров. Использует наследование от базового класса Component для управления DOM-элементами и определяет общую структуру карточки.

Конструктор:  
`constructor(container: HTMLElement)` - принимает контейнер DOM-элемента карточки.

Поля класса:  
`protected titleElement: HTMLElement` - элемент отображения названия товара.
`protected priceElement: HTMLElement` - элемент отображения цены товара.

Структура DOM-элементов:
Контейнер: `.card` (передается извне).
Элемент названия: `.card__title`.
Элемент цены: `.card__price`.

Генерируемые события:
Не генерирует события, так как является абстрактным базовым классом.

Методы:  
`set title(value: string)` - сеттер для обновления названия товара.
`set price(value: number | null)` - сеттер для обновления цены товара, отображает числовое значение в формате "X синапсов" или "Бесценно" для null.

#### Класс CardCatalog
Является представителем слоя Представления — отвечает за отображение карточки товара в каталоге. Использует наследование от базового класса Card для управления основными элементами карточки и добавляет функциональность для категории и изображения.

Конструктор:  
`constructor(container: HTMLElement, actions?: ICardActions` - принимает контейнер DOM-элемента карточки и объект с обработчиками действий.

Поля класса:  
`protected categoryElement: HTMLElement` - элемент отображения категории товара.
`protected imageElement: HTMLImageElement` - элемент отображения изображения товара.

Структура DOM-элементов:
Контейнер: `.card` (переданный извне DOM-элемент карточки).
Элемент категории: `.card__category`.
Элемент изображения: `.card__image`.
Наследует элементы базового класса: `.card__title`, `.card__price`.

Генерируемые события:
Вызывает переданный колбэк `onClick` при клике на карточку.

Методы:  
`set category(value: string)` - сеттер для обновления названия товара.
`set image(value: string)` - сеттер для обновления изображения товара, формирует URL через CDN и преобразует расширение файла в PNG.

#### Класс CardPreview
Является представителем слоя Представления — отвечает за отображение расширенной карточки товара в режиме предпросмотра. Использует наследование от базового класса Card для управления основными элементами карточки и добавляет функциональность для описания, категории, изображения и кнопки действий.

Конструктор:  
`constructor(container: HTMLElement, actions?: ICardActions` - принимает контейнер DOM-элемента карточки и объект с обработчиками действий.

Поля класса:  
`protected categoryElement: HTMLElement` - элемент отображения категории товара.
`protected imageElement: HTMLImageElement` - элемент отображения изображения товара.
`protected descriptionElement: HTMLElement` - элемент отображения описания товара.
`protected cardButton: HTMLButtonElement` - кнопка действий с товаром.

Структура DOM-элементов:
Контейнер: `.card` (переданный извне DOM-элемент карточки).
Элемент категории: `.card__category`.
Элемент изображения: `.card__image`.
Элемент описания: `.card__text`.
Кнопка действий: `.card__button`.
Наследует элементы базового класса: `.card__title`, `.card__price`.

Генерируемые события:
Вызывает переданный колбэк `onButtonClick` при клике на кнопку действий.

Методы:  
`set category(value: string)` - сеттер для обновления названия товара.
`set image(value: string)` - сеттер для обновления изображения товара, формирует URL через CDN и преобразует расширение файла в PNG.
`set description(value: string)` - сеттер для обновления описания товара.
`set disabled(value: boolean)` - сеттер для управления состоянием кнопки (активна/неактивна).
`set cardButtonText(value: string)` - сеттер для обновления текста на кнопке действий.
`setPurchaseOpportunity(isInShoppingCart: boolean, price: number | null)` - метод для настройки состояния кнопки в зависимости от наличия товара в корзине и его цены.

#### Класс CardBasket
Является представителем слоя Представления — отвечает за отображение карточки товара в корзине. Использует наследование от базового класса Card для управления основными элементами карточки и добавляет функциональность для отображения индекса и удаления товара.

Конструктор:  
`constructor(container: HTMLElement, protected events: IEvents)` - принимает контейнер DOM-элемента карточки и объект для управления событиями.

Поля класса:  
`protected indexElement: HTMLElement` - элемент отображения порядкового номера товара.
`protected deleteButton: HTMLButtonElement` - кнопка удаления товара из корзины.

Структура DOM-элементов:
Контейнер: `.card` (переданный извне DOM-элемент карточки).
Элемент номера: `.basket__item-index`.
Кнопка удаления: `.basket__item-delete`.
Наследует элементы базового класса: `.card__title`, `.card__price`.

Генерируемые события:
`shopping-cart:remove` - удаление товара из корзины при клике на кнопку удаления, передает элемент с индексом в качестве параметра.

Методы:  
`set index(value: number)` - сеттер для обновления порядкового номера товара в корзине.

#### Класс Form
Является абстрактным представителем слоя Представления — служит базовым классом для всех типов форм. Использует наследование от базового класса Component для управления DOM-элементами и определяет общую структуру карточки.

Конструктор:  
`constructor(container: HTMLFormElement, protected events: IEvents)` - принимает контейнер DOM-элемента формы и объект для управления событиями.

Поля класса:  
`protected formElement: HTMLFormElement` - элемент формы.
`protected submitButton: HTMLButtonElement` - кнопка отправки формы.
`protected errorsContainer: HTMLElement` - контейнер для отображения ошибок.

Структура DOM-элементов:
Контейнер: `.form` (передается извне).
Кнопка отправки: `button[type="submit"]`.
Контейнер ошибок: `.form__errors`.

Генерируемые события:
`{formName}:submit` - отправка формы при успешной валидации, где {formName} заменяется на атрибут name формы.

Методы:  
`set valid(value: boolean)` - сеттер для управления состоянием кнопки отправки, активирует или деактивирует кнопку в зависимости от валидности формы.
`set errors(value: string[])` - сеттер для отображения ошибок валидации, объединяет массив ошибок в строку через запятую.

#### Класс OrderForm
Является представителем слоя Представления — отвечает за отображение и управление формой заказа. Использует наследование от базового класса Form для управления основными элементами формы и добавляет функциональность для выбора способа оплаты и ввода адреса.

Конструктор:  
`constructor(container: HTMLFormElement, protected events: IEvents)` - принимает контейнер DOM-элемента формы и объект для управления событиями.

Поля класса:  
`protected paymentButtons: HTMLButtonElement[]` - массив кнопок выбора способа оплаты.
`protected addressElement: HTMLInputElement` - поле ввода адреса доставки.
Наследует поля базового класса: `formElement`, `submitButton`, `errorsContainer`.

Структура DOM-элементов:
Контейнер: `#order` (переданный извне DOM-элемент формы заказа).
Кнопки оплаты: `button[name]` (кнопки с атрибутом name).
Поле адреса: `input[name="address"]`.
Наследует элементы базового класса: `button[type="submit"]`, `.form__errors`.

Генерируемые события:
`order:changed` - изменение данных формы, передает объект с полем payment или address и соответствующим значением.
`order:submit` - отправка формы при успешной валидации (наследуется от базового класса).

Методы:  
`set payment(value: string)` - сеттер для установки выбранного способа оплаты, добавляет класс `button_alt-active` соответствующей кнопке.
`set address(value: string)` - сеттер для установки значения адреса доставки в поле ввода.

#### Класс ContactsForm
Является представителем слоя Представления — отвечает за отображение и управление формой контактных данных. Использует наследование от базового класса Form для управления основными элементами формы и добавляет функциональность для ввода email и телефона.

Конструктор:  
`constructor(container: HTMLFormElement, protected events: IEvents)` - принимает контейнер DOM-элемента формы и объект для управления событиями.

Поля класса:  
`protected emailElement: HTMLInputElement` - поле ввода email адреса.
`protected phoneElement: HTMLInputElement` - поле ввода номера телефона.
Наследует поля базового класса: `formElement`, `submitButton`, `errorsContainer`.

Структура DOM-элементов:
Контейнер: `#order` (переданный извне DOM-элемент формы заказа).
Поле email: `input[name="email"]`.
Поле телефона: `input[name="phone"]`.
Наследует элементы базового класса: `button[type="submit"]`, `.form__errors`.

Генерируемые события:
`contacts:changed` - изменение контактных данных, передает объект с полем email или phone и соответствующим значением.
`contacts:submit` - отправка формы при успешной валидации (наследуется от базового класса).

Методы:  
`set email(value: string)` - сеттер для установки значения email адреса в поле ввода.
`set phone(value: string)` - сеттер для установки значения номера телефона в поле ввода.

### События, которые генерируются в приложении

#### События данных покупателя
`buyer-data:changed`:
Описание: событие обновления данных покупателя, требующее перепроверки валидации.
Генерируется: презентером при изменении любых данных покупателя.
Параметры: `{ field: string }` - поле, которое было изменено, или 'all' для всех полей.

#### События каталога товаров
`card-catalog:changed`:
Описание: сигнализирует о том, что список товаров в каталоге изменился и требует обновления отображения
Генерируется: презентером при изменении данных каталога товаров.

`card:selected`:
Описание: событие выбора конкретного товара для просмотра деталей.
Генерируется: презентером при выборе карточки товара в каталоге.
Параметры: `item: IProduct` - данные выбранного товара

#### События корзины покупок
`shopping-cart:open`:
Описание: событие запроса на открытие корзины покупок.Генерируется: классом Header при клике на кнопку корзины.

`shopping-cart:changed`:
Описание: сигнализирует об изменении состава корзины (добавление/удаление товаров).
Генерируется: презентером при изменении содержимого корзины.

`shopping-cart:remove`:
Описание: событие запроса на удаление товара из корзины.Генерируется: классом CardBasket при клике на кнопку удаления товара из корзины.
Параметры: `indexElement: HTMLElement` - элемент с индексом удаляемого товара.

#### События оформления заказа
`order:open`:
Описание: событие запроса на открытие формы заказа.Генерируется: классом Basket при клике на кнопку оформления заказа.

`order:changed`:
Описание: событие изменения данных заказа (способ оплаты или адрес).
Генерируется: классом OrderForm при изменении данных формы заказа.
Параметры: `{ field: 'payment' | 'address', value: string }` - измененное поле и его значение.

`order:submit`:
Описание: событие успешной отправки формы заказа и перехода к форме контактов.
Генерируется: классом OrderForm при отправке формы заказа.

`order:success`:
Описание: событие успешного завершения процесса оформления заказа.
Генерируется: презентером после успешного оформления заказа.

#### События модальных окон
`modal:open`:
Описание: событие информирует о том, что модальное окно было открыто.
Генерируется: классом Modal при открытии модального окна.

`modal:close`:
Описание: событие информирует о том, что модальное окно было закрыто.
Генерируется: классом Modal при закрытии модального окна.

#### События контактных данных
`contacts:changed`:
Описание: событие изменения контактных данных (email или телефон).
Генерируется: классом ContactsForm при изменении контактных данных.
Параметры: `{ field: 'email' | 'phone', value: string }` - измененное поле и его значение.

`contacts:submit`:
Описание: событие успешной отправки формы контактов и запроса на оформление заказа.
Генерируется: классом ContactsForm при отправке формы контактов.

### Презентер
Архитектурный подход:
В данном приложении Презентер реализован непосредственно в основном скрипте приложения main.ts без выделения в отдельный класс. Такой подход выбран из-за того, что приложение имеет только одну страницу, и его достаточно для ответственности за логику работы этой страницы.

Ответственность Презентера:
Презентер выступает в роли посредника между Представлением (View) и Моделями (Model), обрабатывая пользовательские действия и обновляя состояние приложения.

Основные функции Презентера:
1. Инициализация приложения

2. Управление каталогом товаров:
обрабатываемые события:
`card-catalog:changed` - обновление отображения каталога
`card:selected` - выбор товара для просмотра деталей

3. Управление корзиной покупок:
обрабатываемые события:
`shopping-cart:open` - открытие корзины
`shopping-cart:changed` - изменение содержимого корзины
`shopping-cart:remove` - удаление товара из корзины

4. Управление процессом оформления заказа и обработка данных форм:
обрабатываемые события:
`order:open` - открытие формы заказа
`order:changed` - изменение данных заказа
`order:submit` - отправка формы заказа
`contacts:changed` - изменение контактных данных
`contacts:submit` - отправка формы контактов
`buyer-data:changed` - обновление данных покупателя

5. Валидация и отправка заказа
